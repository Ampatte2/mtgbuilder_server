{"ast":null,"code":"var _jsxFileName = \"/home/andrew/mtg/client/src/components/modal.jsx\";\nimport React, { Component } from 'react';\nimport cardBack from \"../images/cardBack.png\";\nimport Styled from \"../style/styled\";\nexport default class Modal extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      show: false,\n      img: this.props.item[\"imageUrl\"]\n    };\n    this.showModal = this.showModal.bind(this);\n    this.dragId = this.dragId.bind(this);\n    this.handleClickOutside = this.handleClickOutside.bind(this);\n    this.setWrapperRef = this.setWrapperRef.bind(this);\n  }\n\n  componentDidMount() {\n    document.addEventListener(\"mousedown\", this.handleClickOutside);\n\n    if (this.state.img === undefined) {\n      this.setState({\n        img: cardBack\n      });\n    }\n  }\n\n  componentWillUnmount() {\n    document.addEventListener(\"mousedown\", this.handleClickOutside);\n  }\n\n  componentDidUpdate(prevProps) {\n    if (this.props.item[\"imageUrl\"] !== prevProps.item[\"imageUrl\"]) {\n      this.setState({\n        img: this.props.item[\"imageUrl\"]\n      });\n    }\n  }\n\n  showModal() {\n    if (this.state.show) {\n      this.setState({\n        show: false\n      });\n    } else {\n      this.setState({\n        show: true\n      });\n    }\n  }\n\n  dragId(e) {\n    const cardItem = JSON.stringify(this.props.item);\n    e.dataTransfer.setData(\"text\", cardItem);\n  }\n\n  handleClickOutside(event) {\n    if (this.wrapperRef && !this.wrapperRef.contains(event.target)) {\n      this.setState({\n        show: false\n      });\n    }\n  }\n\n  setWrapperRef(node) {\n    this.wrapperRef = node;\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 13\n      }\n    }, this.state.show && /*#__PURE__*/React.createElement(Styled.CardPopUp, {\n      src: this.state.img,\n      ref: this.setWrapperRef,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 37\n      }\n    }), /*#__PURE__*/React.createElement(Styled.CardImage, {\n      src: this.state.img,\n      onError: () => console.log(\"there is an error\"),\n      alt: this.props.item[\"name\"],\n      id: this.props.item[\"name\"],\n      onClick: this.showModal,\n      draggable: \"true\",\n      onDragStart: e => this.dragId(e),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 17\n      }\n    }));\n  }\n\n}","map":{"version":3,"sources":["/home/andrew/mtg/client/src/components/modal.jsx"],"names":["React","Component","cardBack","Styled","Modal","constructor","props","state","show","img","item","showModal","bind","dragId","handleClickOutside","setWrapperRef","componentDidMount","document","addEventListener","undefined","setState","componentWillUnmount","componentDidUpdate","prevProps","e","cardItem","JSON","stringify","dataTransfer","setData","event","wrapperRef","contains","target","node","render","console","log"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport cardBack from \"../images/cardBack.png\"\nimport Styled from \"../style/styled\"\n\nexport default class Modal extends Component {\n    constructor(props){\n        super(props);\n        this.state = {\n            show:false,\n            img: this.props.item[\"imageUrl\"]\n        };\n        this.showModal = this.showModal.bind(this);\n        this.dragId = this.dragId.bind(this);\n        this.handleClickOutside = this.handleClickOutside.bind(this)\n        this.setWrapperRef = this.setWrapperRef.bind(this);\n\n    }\n\n    componentDidMount(){\n        document.addEventListener(\"mousedown\", this.handleClickOutside);\n        if(this.state.img===undefined){\n            this.setState({img:cardBack})\n        }\n        \n    }\n    \n    componentWillUnmount(){\n        document.addEventListener(\"mousedown\", this.handleClickOutside);\n    }\n    \n    componentDidUpdate(prevProps){\n        if(this.props.item[\"imageUrl\"] !==prevProps.item[\"imageUrl\"]){\n            this.setState({img:this.props.item[\"imageUrl\"]})\n        }\n    }\n\n    showModal(){\n        if(this.state.show){\n            this.setState({show:false})\n        }else{\n            this.setState({show:true})\n        }\n    }\n\n    dragId(e){\n        const cardItem = JSON.stringify(this.props.item)\n        e.dataTransfer.setData(\"text\", cardItem)\n    }\n\n    handleClickOutside(event){\n        if(this.wrapperRef && !this.wrapperRef.contains(event.target)){\n            this.setState({show:false})\n        }\n    }\n\n    setWrapperRef(node){\n        this.wrapperRef = node;\n    }\n\n    render() {\n        return (\n            <div>\n                {this.state.show && <Styled.CardPopUp src={this.state.img} ref={this.setWrapperRef}></Styled.CardPopUp>}\n                <Styled.CardImage src={this.state.img} onError={()=> console.log(\"there is an error\") } alt={this.props.item[\"name\"]} id={this.props.item[\"name\"]} onClick={this.showModal} draggable=\"true\" onDragStart={e=>this.dragId(e)}></Styled.CardImage>\n                \n            </div>\n        )\n    }\n}\n"]},"metadata":{},"sourceType":"module"}