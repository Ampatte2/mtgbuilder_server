{"ast":null,"code":"var _jsxFileName = \"/home/andrew/mtg/client/src/components/decklist.jsx\";\nimport React, { Component } from 'react';\nimport Styled from \"../style/styled\";\nimport { connect } from \"react-redux\";\nimport { addCard, modifyDeck, clearDeck } from \"../store/actions\";\nimport { DropDown } from \"./index\";\n\nclass Decklist extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleDrop = e => {\n      const cardItem = JSON.parse(e.dataTransfer.getData(\"text\")); //remove unneccessary data from \n\n      const filteredItem = {\n        imageUrl: cardItem.imageUrl,\n        name: cardItem.name,\n        cmc: cardItem.cmc,\n        types: cardItem.types,\n        type: cardItem.type,\n        text: cardItem.text,\n        loyalty: cardItem.loyalty,\n        toughness: cardItem.toughness,\n        power: cardItem.power,\n        quantity: 1\n      };\n      this.props.addCard(filteredItem);\n      e.preventDefault();\n      e.stopPropagation();\n    };\n\n    this.handleDragEnter = e => {\n      e.preventDefault();\n      e.stopPropagation();\n    };\n\n    this.handleDragLeave = e => {\n      console.log(\"drag leave\");\n      e.preventDefault();\n      e.stopPropagation();\n    };\n\n    this.handleClick = (item, index, modifier) => {\n      if (item.quantity < 4 && modifier > 0) {\n        this.props.modifyDeck(modifier, index);\n      } else if (modifier < 0) {\n        this.props.modifyDeck(modifier, index);\n      }\n    };\n\n    this.handleClear = () => {\n      console.log(\"clear\");\n      this.props.clearDeck();\n    };\n\n    this.handleDrop = this.handleDrop.bind(this);\n    this.handleDragEnter = this.handleDragEnter.bind(this);\n    this.handleDragLeave = this.handleDragLeave.bind(this);\n    this.handleClick = this.handleClick.bind(this);\n    this.handleClear = this.handleClear.bind(this);\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(Styled.DecklistDiv, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(DropDown, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(Styled.Decklist, {\n      onDragLeave: e => this.handleDragLeave(e),\n      onDropCapture: e => this.handleDrop(e),\n      onDragOver: e => this.handleDragEnter(e),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 13\n      }\n    }, this.props.currentDeck.decklist.length === 0 ? /*#__PURE__*/React.createElement(Styled.DecklistItemHeader, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 59\n      }\n    }, \"Drag and Drop Cards\") : this.props.currentDeck.decklist.map((item, index) => {\n      return /*#__PURE__*/React.createElement(Styled.DecklistItem, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 24\n        }\n      }, /*#__PURE__*/React.createElement(Styled.DecklistItemHeader, {\n        key: index,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 29\n        }\n      }, item.name), /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          marginRight: \"1vw\",\n          display: \"flex\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          fontSize: \"2vh\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 29\n        }\n      }, item.quantity), /*#__PURE__*/React.createElement(Styled.UserButtons, {\n        onClick: () => this.handleClick(item, index, 1),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 29\n        }\n      }, \"+\"), /*#__PURE__*/React.createElement(Styled.UserButtons, {\n        onClick: () => this.handleClick(item, index, -1),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 29\n        }\n      }, \"-\")));\n    }))), /*#__PURE__*/React.createElement(Styled.DeckListClear, {\n      onClick: () => this.handleClear(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 13\n      }\n    }, \"Clear\"));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  const {\n    currentDeck\n  } = state;\n  return {\n    currentDeck\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    modifyDeck: (modifier, index) => {\n      dispatch(modifyDeck(modifier, index));\n    },\n    addCard: card => {\n      dispatch(addCard(card));\n    },\n    clearDeck: () => {\n      dispatch(clearDeck());\n    }\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Decklist);","map":{"version":3,"sources":["/home/andrew/mtg/client/src/components/decklist.jsx"],"names":["React","Component","Styled","connect","addCard","modifyDeck","clearDeck","DropDown","Decklist","constructor","props","handleDrop","e","cardItem","JSON","parse","dataTransfer","getData","filteredItem","imageUrl","name","cmc","types","type","text","loyalty","toughness","power","quantity","preventDefault","stopPropagation","handleDragEnter","handleDragLeave","console","log","handleClick","item","index","modifier","handleClear","bind","render","currentDeck","decklist","length","map","marginRight","display","fontSize","mapStateToProps","state","mapDispatchToProps","dispatch","card"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport Styled from \"../style/styled\"\nimport {connect} from \"react-redux\";\nimport {addCard, modifyDeck, clearDeck} from \"../store/actions\"\nimport {DropDown} from \"./index\"\n\nclass Decklist extends Component {\n    constructor(props){\n        super(props)\n        this.handleDrop= this.handleDrop.bind(this);\n        this.handleDragEnter= this.handleDragEnter.bind(this);\n        this.handleDragLeave = this.handleDragLeave.bind(this);\n        this.handleClick = this.handleClick.bind(this);\n        this.handleClear = this.handleClear.bind(this);\n        \n    }\n\n    handleDrop = e =>{\n\n        const cardItem = JSON.parse(e.dataTransfer.getData(\"text\"))\n\n        //remove unneccessary data from \n        const filteredItem = {\n            imageUrl: cardItem.imageUrl,\n            name: cardItem.name,\n            cmc: cardItem.cmc,\n            types: cardItem.types,\n            type:cardItem.type,\n            text:cardItem.text,\n            loyalty:cardItem.loyalty,\n            toughness:cardItem.toughness,\n            power:cardItem.power,\n            quantity:1\n        }\n\n        this.props.addCard(filteredItem)\n        e.preventDefault()\n        e.stopPropagation()\n    }\n\n    handleDragEnter = e =>{\n        e.preventDefault()\n        e.stopPropagation()\n    }\n    handleDragLeave = e =>{\n        console.log(\"drag leave\");\n        e.preventDefault()\n        e.stopPropagation()\n    }\n\n    handleClick = (item, index, modifier ) =>{\n        if(item.quantity<4 && modifier>0){\n            this.props.modifyDeck(modifier, index)  \n        }else if(modifier<0){\n            this.props.modifyDeck(modifier, index)\n        }\n    }\n    handleClear = () => {\n        console.log(\"clear\")\n        this.props.clearDeck();\n    }\n    \n    render() {\n        \n        return (\n            <Styled.DecklistDiv>\n            <DropDown></DropDown>\n            \n            <Styled.Decklist \n            onDragLeave={e=>this.handleDragLeave(e)}\n            onDropCapture={e=> this.handleDrop(e)} \n            onDragOver={e=>this.handleDragEnter(e)}>\n            \n            <div>\n                \n            {this.props.currentDeck.decklist.length===0 ? <Styled.DecklistItemHeader>Drag and Drop Cards</Styled.DecklistItemHeader>: this.props.currentDeck.decklist.map((item, index)=>{\n                \n                return <Styled.DecklistItem>\n                            <Styled.DecklistItemHeader key={index}>{item.name}</Styled.DecklistItemHeader>\n                            <div style={{marginRight:\"1vw\", display:\"flex\"}}>\n                            <div style={{fontSize:\"2vh\"}}>{item.quantity}</div>\n                            <Styled.UserButtons onClick={()=>this.handleClick(item, index, 1)}>+</Styled.UserButtons>\n                            <Styled.UserButtons onClick={()=>this.handleClick(item, index, -1)}>-</Styled.UserButtons>\n                            </div>\n                            \n                        </Styled.DecklistItem>\n            })}\n            \n            </div>        \n            </Styled.Decklist>\n            <Styled.DeckListClear onClick={()=>this.handleClear()}>Clear</Styled.DeckListClear>\n            </Styled.DecklistDiv>\n        )\n    }\n}\n\nconst mapStateToProps = (state) =>{\n    const {currentDeck} = state;\n    return {currentDeck}\n}\n\nconst mapDispatchToProps = (dispatch)=>{\n    return{\n        modifyDeck: (modifier, index)=>{dispatch(modifyDeck(modifier, index))},\n        addCard: (card)=>{dispatch(addCard(card))},\n        clearDeck: ()=>{dispatch(clearDeck())}\n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Decklist)\n"]},"metadata":{},"sourceType":"module"}