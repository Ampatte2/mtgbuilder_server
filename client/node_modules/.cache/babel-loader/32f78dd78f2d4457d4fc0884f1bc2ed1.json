{"ast":null,"code":"import _classCallCheck from\"/home/andrew/mtg/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/andrew/mtg/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/home/andrew/mtg/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _possibleConstructorReturn from\"/home/andrew/mtg/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/home/andrew/mtg/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/home/andrew/mtg/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";function _createSuper(Derived){return function(){var Super=_getPrototypeOf(Derived),result;if(_isNativeReflectConstruct()){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){if(typeof Reflect===\"undefined\"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy===\"function\")return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true;}catch(e){return false;}}import React,{Component}from'react';import{connect}from\"react-redux\";import{saveDeck as _saveDeck,getDeck as _getDeck}from\"../store/actions\";import Styled from\"../style/styled\";var DropDown=/*#__PURE__*/function(_Component){_inherits(DropDown,_Component);var _super=_createSuper(DropDown);function DropDown(props){var _this;_classCallCheck(this,DropDown);_this=_super.call(this,props);_this.state={display:\"0vh\",deckName:\"\",selectError:false};_this.handleChange=_this.handleChange.bind(_assertThisInitialized(_this));_this.handleClick=_this.handleClick.bind(_assertThisInitialized(_this));_this.handleSubmit=_this.handleSubmit.bind(_assertThisInitialized(_this));_this.setWrapperRef=_this.setWrapperRef.bind(_assertThisInitialized(_this));_this.handleClickOutside=_this.handleClickOutside.bind(_assertThisInitialized(_this));return _this;}_createClass(DropDown,[{key:\"componentDidMount\",value:function componentDidMount(){document.addEventListener(\"mousedown\",this.handleClickOutside);}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){document.addEventListener(\"mousedown\",this.handleClickOutside);}},{key:\"setWrapperRef\",value:function setWrapperRef(node){this.wrapperRef=node;}},{key:\"showDiv\",value:function showDiv(){if(this.state.display==\"0vh\"){this.setState({display:\"15vh\"});}else{this.setState({display:\"0vh\"});}}},{key:\"handleChange\",value:function handleChange(e){this.setState({deckName:e.target.value});}},{key:\"handleClick\",value:function handleClick(item){this.props.getDeck({name:item.name});//handle click changes the deck\nthis.setState({deckName:item.name});}//Handles the saving of decks, displays messages based on no name or not authorized\n},{key:\"handleSubmit\",value:function handleSubmit(e){e.preventDefault();if(this.state.deckName===\"\"){this.setState({selectError:\"All Decks Must Have a Name\"});}else if(this.props.auth===false){this.setState({selectError:\"Login To Save Deck\"});}else if(this.props.currentDeck.decklist.length===0){this.setState({selectError:\"Decklist Cannot Be Empty\"});}else{this.setState({selectError:false});this.props.saveDeck(this.state.deckName,this.props.currentDeck);}}},{key:\"handleClickOutside\",value:function handleClickOutside(event){this.setState({selectError:false});if(this.wrapperRef&&!this.wrapperRef.contains(event.target)){if(this.state.display===\"15vh\"){this.setState({display:\"0vh\"});}}}},{key:\"render\",value:function render(){var _this2=this;return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Styled.DeckSelect,null,this.state.selectError&&/*#__PURE__*/React.createElement(Styled.SelectError,null,this.state.selectError),/*#__PURE__*/React.createElement(Styled.DropInput,{type:\"text\",value:this.state.deckName,onChange:function onChange(e){return _this2.handleChange(e);},placeholder:this.props.currentDeck.name,onClick:function onClick(){return _this2.showDiv();}}),/*#__PURE__*/React.createElement(Styled.DropButton,{type:\"button\",onClick:function onClick(event){return _this2.handleSubmit(event);}},\"Save\")),/*#__PURE__*/React.createElement(Styled.DeckSelectDrop,{height:this.state.display,ref:this.setWrapperRef},this.props.myDecks.length>0?this.props.myDecks.map(function(item,index){return/*#__PURE__*/React.createElement(Styled.DeckSelectItem,{height:_this2.state.display,onClick:function onClick(){return _this2.handleClick(item);},key:index},item.name);}):/*#__PURE__*/React.createElement(Styled.DeckSelectItem,{height:this.state.display},\"No Saved Decks\")));}}]);return DropDown;}(Component);var mapStateToProps=function mapStateToProps(state){var myDecks=state.myDecks;var currentDeck=state.currentDeck;var auth=state.auth;return{myDecks:myDecks,currentDeck:currentDeck,auth:auth};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{saveDeck:function saveDeck(deckName,deck){dispatch(_saveDeck(deckName,deck));},getDeck:function getDeck(deckName){dispatch(_getDeck(deckName));}};};export default connect(mapStateToProps,mapDispatchToProps)(DropDown);","map":{"version":3,"sources":["/home/andrew/mtg/client/src/components/dropDown.jsx"],"names":["React","Component","connect","saveDeck","getDeck","Styled","DropDown","props","state","display","deckName","selectError","handleChange","bind","handleClick","handleSubmit","setWrapperRef","handleClickOutside","document","addEventListener","node","wrapperRef","setState","e","target","value","item","name","preventDefault","auth","currentDeck","decklist","length","event","contains","showDiv","myDecks","map","index","mapStateToProps","mapDispatchToProps","dispatch","deck"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport {connect} from \"react-redux\";\nimport {saveDeck, getDeck} from \"../store/actions\"\nimport Styled from \"../style/styled\"\n\nclass DropDown extends Component {\n    constructor(props){\n        super(props)\n        this.state={\n            display:\"0vh\",\n            deckName:\"\",\n            selectError:false\n        }\n        this.handleChange = this.handleChange.bind(this);\n        this.handleClick = this.handleClick.bind(this);\n        this.handleSubmit = this.handleSubmit.bind(this);\n        this.setWrapperRef = this.setWrapperRef.bind(this);\n        this.handleClickOutside = this.handleClickOutside.bind(this);\n        \n    }\n\n    componentDidMount(){\n        document.addEventListener(\"mousedown\", this.handleClickOutside);\n    }\n    \n    componentWillUnmount(){\n        document.addEventListener(\"mousedown\", this.handleClickOutside);\n    }\n\n    setWrapperRef(node){\n        this.wrapperRef = node;\n    }\n\n    showDiv(){\n        \n        if(this.state.display==\"0vh\"){\n            \n            this.setState({display:\"15vh\"})\n        }else{\n            this.setState({display:\"0vh\"})\n        }\n        \n    }\n\n    handleChange(e){\n        this.setState({deckName: e.target.value})\n    }\n\n    handleClick(item){\n        this.props.getDeck({name: item.name})\n        //handle click changes the deck\n        this.setState({deckName: item.name})\n\n    }\n\n    //Handles the saving of decks, displays messages based on no name or not authorized\n    handleSubmit(e){\n        e.preventDefault();\n        if(this.state.deckName===\"\"){\n            this.setState({selectError: \"All Decks Must Have a Name\"})\n        }else if(this.props.auth===false){\n            this.setState({selectError:\"Login To Save Deck\"})\n        }else if(this.props.currentDeck.decklist.length===0){\n            this.setState({selectError:\"Decklist Cannot Be Empty\"})\n        }else{\n            this.setState({selectError:false})\n            this.props.saveDeck(this.state.deckName, this.props.currentDeck)\n        }\n    }\n\n    handleClickOutside(event){\n        this.setState({selectError:false})\n        if(this.wrapperRef && !this.wrapperRef.contains(event.target)){\n            if(this.state.display===\"15vh\"){\n            this.setState({display:\"0vh\"})\n            }\n        }\n    }\n\n    render() {\n        return (\n            <>\n                \n                <Styled.DeckSelect>\n                {this.state.selectError && <Styled.SelectError>{this.state.selectError}</Styled.SelectError>}\n                <Styled.DropInput type=\"text\" value={this.state.deckName} onChange={e=>this.handleChange(e)} placeholder={this.props.currentDeck.name} onClick={()=>this.showDiv()}></Styled.DropInput>\n                <Styled.DropButton type=\"button\" onClick={event=>this.handleSubmit(event)}>Save</Styled.DropButton>\n                \n                </Styled.DeckSelect>\n                \n                \n\n                <Styled.DeckSelectDrop height={this.state.display} ref={this.setWrapperRef}>\n                {this.props.myDecks.length>0 ? this.props.myDecks.map((item, index)=>{\n                    return <Styled.DeckSelectItem height={this.state.display} onClick={()=>this.handleClick(item)} key={index}>{item.name}</Styled.DeckSelectItem>\n                }): <Styled.DeckSelectItem height={this.state.display}>No Saved Decks</Styled.DeckSelectItem>}\n                </Styled.DeckSelectDrop>\n\n            </>\n        )\n    }\n}\nconst mapStateToProps = (state) =>{\n    const {myDecks} = state;\n    const {currentDeck} = state;\n    const {auth} = state;\n    return {myDecks, currentDeck, auth}\n}\nconst mapDispatchToProps = (dispatch)=>{\n    return{\n        saveDeck: (deckName, deck)=>{dispatch(saveDeck(deckName, deck))},\n        getDeck: (deckName)=>{dispatch(getDeck(deckName))}\n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(DropDown)"]},"metadata":{},"sourceType":"module"}