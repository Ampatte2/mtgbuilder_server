{"ast":null,"code":"import _classCallCheck from\"/home/andrew/mtg/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/andrew/mtg/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/home/andrew/mtg/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _possibleConstructorReturn from\"/home/andrew/mtg/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/home/andrew/mtg/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/home/andrew/mtg/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";function _createSuper(Derived){return function(){var Super=_getPrototypeOf(Derived),result;if(_isNativeReflectConstruct()){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){if(typeof Reflect===\"undefined\"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy===\"function\")return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true;}catch(e){return false;}}import React,{Component}from'react';import cardBack from\"../images/cardBack.png\";import Styled from\"../style/styled\";var Modal=/*#__PURE__*/function(_Component){_inherits(Modal,_Component);var _super=_createSuper(Modal);function Modal(props){var _this;_classCallCheck(this,Modal);_this=_super.call(this,props);_this.state={show:false,img:_this.props.item[\"imageUrl\"]};_this.showModal=_this.showModal.bind(_assertThisInitialized(_this));_this.dragId=_this.dragId.bind(_assertThisInitialized(_this));_this.handleClickOutside=_this.handleClickOutside.bind(_assertThisInitialized(_this));_this.setWrapperRef=_this.setWrapperRef.bind(_assertThisInitialized(_this));return _this;}_createClass(Modal,[{key:\"componentDidMount\",value:function componentDidMount(){document.addEventListener(\"mousedown\",this.handleClickOutside);if(this.state.img===undefined){this.setState({img:cardBack});}}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){document.addEventListener(\"mousedown\",this.handleClickOutside);}},{key:\"componentDidUpdate\",value:function componentDidUpdate(prevProps){if(this.props.item[\"imageUrl\"]!==prevProps.item[\"imageUrl\"]){this.setState({img:this.props.item[\"imageUrl\"]});}}},{key:\"showModal\",value:function showModal(){if(this.state.show){this.setState({show:false});}else{this.setState({show:true});}}},{key:\"dragId\",value:function dragId(e){var cardItem=JSON.stringify(this.props.item);e.dataTransfer.setData(\"text\",cardItem);}},{key:\"handleClickOutside\",value:function handleClickOutside(event){if(this.wrapperRef&&!this.wrapperRef.contains(event.target)){this.setState({show:false});}}},{key:\"setWrapperRef\",value:function setWrapperRef(node){this.wrapperRef=node;}},{key:\"render\",value:function render(){var _this2=this;return/*#__PURE__*/React.createElement(\"div\",null,this.state.show&&/*#__PURE__*/React.createElement(Styled.CardPopUp,{src:this.state.img,ref:this.setWrapperRef}),/*#__PURE__*/React.createElement(Styled.CardImage,{src:this.state.img,onError:function onError(){return console.log(\"there is an error\");},alt:this.props.item[\"name\"],id:this.props.item[\"name\"],onClick:this.showModal,draggable:\"true\",onDragStart:function onDragStart(e){return _this2.dragId(e);}}));}}]);return Modal;}(Component);export{Modal as default};","map":{"version":3,"sources":["/home/andrew/mtg/client/src/components/modal.jsx"],"names":["React","Component","cardBack","Styled","Modal","props","state","show","img","item","showModal","bind","dragId","handleClickOutside","setWrapperRef","document","addEventListener","undefined","setState","prevProps","e","cardItem","JSON","stringify","dataTransfer","setData","event","wrapperRef","contains","target","node","console","log"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport cardBack from \"../images/cardBack.png\"\nimport Styled from \"../style/styled\"\n\nexport default class Modal extends Component {\n    constructor(props){\n        super(props);\n        this.state = {\n            show:false,\n            img: this.props.item[\"imageUrl\"]\n        };\n        this.showModal = this.showModal.bind(this);\n        this.dragId = this.dragId.bind(this);\n        this.handleClickOutside = this.handleClickOutside.bind(this)\n        this.setWrapperRef = this.setWrapperRef.bind(this);\n\n    }\n\n    componentDidMount(){\n        document.addEventListener(\"mousedown\", this.handleClickOutside);\n        if(this.state.img===undefined){\n            this.setState({img:cardBack})\n        }\n        \n    }\n    \n    componentWillUnmount(){\n        document.addEventListener(\"mousedown\", this.handleClickOutside);\n    }\n    \n    componentDidUpdate(prevProps){\n        if(this.props.item[\"imageUrl\"] !==prevProps.item[\"imageUrl\"]){\n            this.setState({img:this.props.item[\"imageUrl\"]})\n        }\n    }\n\n    showModal(){\n        if(this.state.show){\n            this.setState({show:false})\n        }else{\n            this.setState({show:true})\n        }\n    }\n\n    dragId(e){\n        const cardItem = JSON.stringify(this.props.item)\n        e.dataTransfer.setData(\"text\", cardItem)\n    }\n\n    handleClickOutside(event){\n        if(this.wrapperRef && !this.wrapperRef.contains(event.target)){\n            this.setState({show:false})\n        }\n    }\n\n    setWrapperRef(node){\n        this.wrapperRef = node;\n    }\n\n    render() {\n        return (\n            <div>\n                {this.state.show && <Styled.CardPopUp src={this.state.img} ref={this.setWrapperRef}></Styled.CardPopUp>}\n                <Styled.CardImage src={this.state.img} onError={()=> console.log(\"there is an error\") } alt={this.props.item[\"name\"]} id={this.props.item[\"name\"]} onClick={this.showModal} draggable=\"true\" onDragStart={e=>this.dragId(e)}></Styled.CardImage>\n                \n            </div>\n        )\n    }\n}\n"]},"metadata":{},"sourceType":"module"}