{"ast":null,"code":"import _classCallCheck from\"/home/andrew/mtg/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/andrew/mtg/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/home/andrew/mtg/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _possibleConstructorReturn from\"/home/andrew/mtg/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/home/andrew/mtg/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/home/andrew/mtg/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";function _createSuper(Derived){return function(){var Super=_getPrototypeOf(Derived),result;if(_isNativeReflectConstruct()){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){if(typeof Reflect===\"undefined\"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy===\"function\")return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true;}catch(e){return false;}}import React,{Component}from'react';import{ModalLogin}from\"./index\";import{connect}from\"react-redux\";import{login as _login,logout as _logout,register as _register,isAuth as _isAuth,getData as _getData,isError as _isError}from\"../store/actions\";import Loader from\"react-loader\";import Styled from\"../style/styled\";var UserLogin=/*#__PURE__*/function(_Component){_inherits(UserLogin,_Component);var _super=_createSuper(UserLogin);function UserLogin(props){var _this;_classCallCheck(this,UserLogin);_this=_super.call(this,props);_this.state={passError:false};_this.register=_this.register.bind(_assertThisInitialized(_this));_this.login=_this.login.bind(_assertThisInitialized(_this));_this.logout=_this.logout.bind(_assertThisInitialized(_this));_this.errorReset=_this.errorReset.bind(_assertThisInitialized(_this));return _this;}_createClass(UserLogin,[{key:\"register\",value:function register(submit){this.setState({passError:false});if(submit[\"Password\"]===submit[\"Repeat Password\"]&&submit[\"Email\"]&&submit[\"Password\"]&&submit[\"Password\"].length>6){this.props.register(submit);}else if(submit[\"Password\"].length<7){this.setState({passError:\"Password Must Be Longer Than 6 Characters\"});}else{//error message for password without api call\nthis.setState({passError:\"Passwords Do Not Match\"});}}},{key:\"login\",value:function login(submit){this.props.login(submit);}},{key:\"logout\",value:function logout(){localStorage.removeItem(\"token\");this.props.logout();this.props.isAuth(false);this.props.getData();}},{key:\"errorReset\",value:function errorReset(){this.props.isError(false);this.setState({passError:false});}},{key:\"render\",value:function render(){var _this2=this;return/*#__PURE__*/React.createElement(Styled.UserLoginDiv,null,!this.props.auth&&/*#__PURE__*/React.createElement(Styled.UserLogin,null,/*#__PURE__*/React.createElement(ModalLogin,{title:\"Login\",info:[{name:\"Email\",type:\"email\"},{name:\"Password\",type:\"password\"}],fun:this.login,error:this.props.error,reset:this.errorReset,isLoaded:this.props.isLoaded}),/*#__PURE__*/React.createElement(ModalLogin,{title:\"Register\",info:[{name:\"Email\",type:\"email\"},{name:\"Password\",type:\"password\"},{name:\"Repeat Password\",type:\"password\"}],fun:this.register,passError:this.state.passError,error:this.props.error,reset:this.errorReset,isLoaded:this.props.isLoaded})),this.props.auth&&/*#__PURE__*/React.createElement(Styled.UserLogin,null,/*#__PURE__*/React.createElement(Styled.UserButtons,{onClick:function onClick(){return _this2.logout();}},\"Logout\")));}}]);return UserLogin;}(Component);var mapStateToProps=function mapStateToProps(state){var isLoaded=state.isLoaded;var error=state.error;var auth=state.auth;return{error:error,isLoaded:isLoaded,auth:auth};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{login:function login(user){dispatch(_login(user));},register:function register(user){dispatch(_register(user));},isAuth:function isAuth(value){dispatch(_isAuth(value));},logout:function logout(){dispatch(_logout());},getData:function getData(){dispatch(_getData());},isError:function isError(value){dispatch(_isError(value));}};};export default connect(mapStateToProps,mapDispatchToProps)(UserLogin);","map":{"version":3,"sources":["/home/andrew/mtg/client/src/components/userLogin.jsx"],"names":["React","Component","ModalLogin","connect","login","logout","register","isAuth","getData","isError","Loader","Styled","UserLogin","props","state","passError","bind","errorReset","submit","setState","length","localStorage","removeItem","auth","name","type","error","isLoaded","mapStateToProps","mapDispatchToProps","dispatch","user","value"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport {ModalLogin} from \"./index\"\nimport {connect} from \"react-redux\";\nimport {login, logout, register, isAuth, getData, isError} from \"../store/actions\";\nimport Loader from \"react-loader\";\nimport Styled from \"../style/styled\";\n\n\n\nclass UserLogin extends Component {\n    constructor(props){\n        super(props)\n        this.state={\n            passError:false\n            \n        }\n        this.register = this.register.bind(this);\n        this.login = this.login.bind(this);\n        this.logout = this.logout.bind(this);\n        this.errorReset = this.errorReset.bind(this);\n        \n    }\n\n    register(submit){\n            this.setState({passError:false})\n            if(submit[\"Password\"]===submit[\"Repeat Password\"] && submit[\"Email\"] && submit[\"Password\"] && submit[\"Password\"].length>6 ){\n                this.props.register(submit);\n            }else if (submit[\"Password\"].length<7){\n                this.setState({passError:\"Password Must Be Longer Than 6 Characters\"})\n            }else{\n                //error message for password without api call\n                this.setState({passError:\"Passwords Do Not Match\"});\n        }\n    }\n    \n    login(submit){\n        this.props.login(submit);\n        \n    }\n\n    logout(){\n        \n        localStorage.removeItem(\"token\")\n        this.props.logout();\n        this.props.isAuth(false);\n        this.props.getData();\n        \n    }\n\n    errorReset(){\n        this.props.isError(false)\n        this.setState({passError:false})\n    }\n\n    render() {\n        return (\n            <Styled.UserLoginDiv>\n                \n                {!this.props.auth && \n                <Styled.UserLogin>\n                    <ModalLogin \n                    title=\"Login\" \n                    info={[{name:\"Email\", type:\"email\"},\n                    {name:\"Password\", type:\"password\"}]}\n                    fun={this.login}\n                    error={this.props.error}\n                    reset={this.errorReset}\n                    isLoaded={this.props.isLoaded}>\n                    </ModalLogin>\n\n                    <ModalLogin\n                    title=\"Register\"\n                    info={[{name:\"Email\", type:\"email\"},\n                    {name:\"Password\", type:\"password\"},\n                    {name:\"Repeat Password\", type:\"password\"}]}\n                    fun={this.register}\n                    passError={this.state.passError}\n                    error={this.props.error}\n                    reset={this.errorReset}\n                    isLoaded={this.props.isLoaded}>\n                    </ModalLogin>\n                </Styled.UserLogin>}\n\n                {this.props.auth &&\n                <Styled.UserLogin>\n                    <Styled.UserButtons onClick={()=>this.logout()}>Logout</Styled.UserButtons>\n                </Styled.UserLogin>}\n                \n\n            </Styled.UserLoginDiv>\n        )\n    }\n}\nconst mapStateToProps = (state) =>{\n    const {isLoaded} = state;\n    const {error} = state;\n    const {auth} = state;\n    return {error, isLoaded, auth}\n}\nconst mapDispatchToProps = (dispatch)=>{\n    return{\n        login: (user)=>{dispatch(login(user))},\n        register: (user)=>{dispatch(register(user))},\n        isAuth: (value)=>{dispatch(isAuth(value))},\n        logout: ()=>{dispatch(logout())},\n        getData: ()=>{dispatch(getData())},\n        isError: (value)=>{dispatch(isError(value))}\n    }\n}\nexport default connect(mapStateToProps, mapDispatchToProps)(UserLogin);"]},"metadata":{},"sourceType":"module"}