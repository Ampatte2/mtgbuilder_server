{"ast":null,"code":"import _classCallCheck from\"/home/andrew/mtg/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/andrew/mtg/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/home/andrew/mtg/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _possibleConstructorReturn from\"/home/andrew/mtg/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/home/andrew/mtg/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/home/andrew/mtg/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";function _createSuper(Derived){return function(){var Super=_getPrototypeOf(Derived),result;if(_isNativeReflectConstruct()){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){if(typeof Reflect===\"undefined\"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy===\"function\")return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true;}catch(e){return false;}}import React,{Component}from'react';import Styled from\"../style/styled\";var ModalLogin=/*#__PURE__*/function(_Component){_inherits(ModalLogin,_Component);var _super=_createSuper(ModalLogin);function ModalLogin(props){var _this;_classCallCheck(this,ModalLogin);_this=_super.call(this,props);_this.state={show:false};_this.handleClickOutside=_this.handleClickOutside.bind(_assertThisInitialized(_this));_this.setWrapperRef=_this.setWrapperRef.bind(_assertThisInitialized(_this));_this.showModal=_this.showModal.bind(_assertThisInitialized(_this));_this.handleSubmit=_this.handleSubmit.bind(_assertThisInitialized(_this));return _this;}_createClass(ModalLogin,[{key:\"componentDidMount\",value:function componentDidMount(){document.addEventListener(\"mousedown\",this.handleClickOutside);}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){document.addEventListener(\"mousedown\",this.handleClickOutside);}},{key:\"handleClickOutside\",value:function handleClickOutside(event){if(this.wrapperRef&&!this.wrapperRef.contains(event.target)){this.props.reset();this.setState({show:false});}}},{key:\"showModal\",value:function showModal(){if(this.state.show){this.setState({show:false});}else{this.setState({show:true});}}},{key:\"setWrapperRef\",value:function setWrapperRef(node){this.wrapperRef=node;}},{key:\"handleSubmit\",value:function handleSubmit(e){e.preventDefault();this.props.fun(this.state);}},{key:\"handleChange\",value:function handleChange(e,section){var newState={};newState[section]=e.target.value;this.setState(newState);}},{key:\"render\",value:function render(){var _this2=this;return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{ref:this.setWrapperRef},/*#__PURE__*/React.createElement(Styled.UserButtons,{onClick:this.showModal},this.props.title),this.state.show&&/*#__PURE__*/React.createElement(Styled.AccountForm,{onSubmit:function onSubmit(e){return _this2.handleSubmit(e);}},this.props.info.map(function(item,index){return/*#__PURE__*/React.createElement(Styled.AccountInput,{type:item.type,id:item.name,placeholder:item.name,onChange:function onChange(e){return _this2.handleChange(e,item.name);}});}),this.props.error&&/*#__PURE__*/React.createElement(Styled.AccountError,null,this.props.error),this.props.passError&&/*#__PURE__*/React.createElement(Styled.AccountError,null,this.props.passError),this.props.isLoaded&&/*#__PURE__*/React.createElement(Styled.AccountButton,{type:\"submit\"},this.props.title))));}}]);return ModalLogin;}(Component);export{ModalLogin as default};","map":{"version":3,"sources":["/home/andrew/mtg/client/src/components/modalLogin.jsx"],"names":["React","Component","Styled","ModalLogin","props","state","show","handleClickOutside","bind","setWrapperRef","showModal","handleSubmit","document","addEventListener","event","wrapperRef","contains","target","reset","setState","node","e","preventDefault","fun","section","newState","value","title","info","map","item","index","type","name","handleChange","error","passError","isLoaded"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport Styled from \"../style/styled\";\n\nexport default class ModalLogin extends Component {\n    constructor(props){\n        super(props)\n        this.state={\n            show:false,\n        }\n        this.handleClickOutside = this.handleClickOutside.bind(this)\n        this.setWrapperRef = this.setWrapperRef.bind(this);\n        this.showModal = this.showModal.bind(this);\n        this.handleSubmit = this.handleSubmit.bind(this);\n    }\n\n    componentDidMount(){\n        document.addEventListener(\"mousedown\", this.handleClickOutside);\n        \n    }\n    \n    componentWillUnmount(){\n        document.addEventListener(\"mousedown\", this.handleClickOutside);\n    }\n\n    handleClickOutside(event){\n        if(this.wrapperRef && !this.wrapperRef.contains(event.target)){\n            this.props.reset();\n            this.setState({show:false})\n        }\n    }\n\n    showModal(){\n        if(this.state.show){\n            \n            this.setState({show:false})\n        }else{\n            this.setState({show:true})\n        }\n    }\n\n    setWrapperRef(node){\n        this.wrapperRef = node;\n    }\n\n    handleSubmit(e){\n        e.preventDefault();\n        this.props.fun(this.state)       \n    }\n\n    handleChange(e, section){\n        let newState = {};\n        newState[section]=e.target.value;\n        this.setState(newState);\n    }\n\n    render() {\n        return (\n            <>\n                <div ref={this.setWrapperRef}>\n                <Styled.UserButtons onClick={this.showModal}>\n                {this.props.title}\n                </Styled.UserButtons>\n                {this.state.show && \n                    \n                    <Styled.AccountForm onSubmit={(e)=>this.handleSubmit(e)}>\n                        {this.props.info.map((item, index)=>{\n                           return <Styled.AccountInput type={item.type} id={item.name} placeholder={item.name} onChange={(e)=>this.handleChange(e,item.name)}></Styled.AccountInput>\n                        })}\n                        {this.props.error && <Styled.AccountError>{this.props.error}</Styled.AccountError>}\n                        {this.props.passError && <Styled.AccountError>{this.props.passError}</Styled.AccountError>}\n                        {this.props.isLoaded &&<Styled.AccountButton type=\"submit\">{this.props.title}</Styled.AccountButton>}\n                    </Styled.AccountForm>\n                    \n                    }\n                </div>\n            </>\n        )\n    }\n}\n"]},"metadata":{},"sourceType":"module"}