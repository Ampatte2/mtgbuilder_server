{"ast":null,"code":"import _classCallCheck from\"/home/andrew/mtg/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/andrew/mtg/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/home/andrew/mtg/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _possibleConstructorReturn from\"/home/andrew/mtg/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/home/andrew/mtg/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/home/andrew/mtg/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";function _createSuper(Derived){return function(){var Super=_getPrototypeOf(Derived),result;if(_isNativeReflectConstruct()){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){if(typeof Reflect===\"undefined\"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy===\"function\")return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true;}catch(e){return false;}}import React,{Component}from'react';import Styled from\"../style/styled\";import{connect}from\"react-redux\";import{addCard as _addCard,modifyDeck as _modifyDeck}from\"../store/actions\";import{DropDown}from\"./index\";var Decklist=/*#__PURE__*/function(_Component){_inherits(Decklist,_Component);var _super=_createSuper(Decklist);function Decklist(props){var _this;_classCallCheck(this,Decklist);_this=_super.call(this,props);_this.handleDrop=function(e){var cardItem=JSON.parse(e.dataTransfer.getData(\"text\"));//remove unneccessary data from \nvar filteredItem={imageUrl:cardItem.imageUrl,name:cardItem.name,cmc:cardItem.cmc,types:cardItem.types,type:cardItem.type,text:cardItem.text,loyalty:cardItem.loyalty,toughness:cardItem.toughness,power:cardItem.power,quantity:1};_this.props.addCard(filteredItem);e.preventDefault();e.stopPropagation();};_this.handleDragEnter=function(e){e.preventDefault();e.stopPropagation();};_this.handleDragLeave=function(e){console.log(\"drag leave\");e.preventDefault();e.stopPropagation();};_this.handleClick=function(item,index,modifier){if(item.quantity<4&&modifier>0){_this.props.modifyDeck(modifier,index);}else if(modifier<0){_this.props.modifyDeck(modifier,index);}};_this.handleDrop=_this.handleDrop.bind(_assertThisInitialized(_this));_this.handleDragEnter=_this.handleDragEnter.bind(_assertThisInitialized(_this));_this.handleDragLeave=_this.handleDragLeave.bind(_assertThisInitialized(_this));_this.handleClick=_this.handleClick.bind(_assertThisInitialized(_this));return _this;}_createClass(Decklist,[{key:\"render\",value:function render(){var _this2=this;return/*#__PURE__*/React.createElement(Styled.DecklistDiv,null,/*#__PURE__*/React.createElement(DropDown,null),/*#__PURE__*/React.createElement(Styled.Decklist,{onDragLeave:function onDragLeave(e){return _this2.handleDragLeave(e);},onDropCapture:function onDropCapture(e){return _this2.handleDrop(e);},onDragOver:function onDragOver(e){return _this2.handleDragEnter(e);}},/*#__PURE__*/React.createElement(\"div\",null,this.props.currentDeck.decklist.length===0?/*#__PURE__*/React.createElement(Styled.DecklistItemHeader,null,\"Drag and Drop Cards\"):this.props.currentDeck.decklist.map(function(item,index){return/*#__PURE__*/React.createElement(Styled.DecklistItem,null,/*#__PURE__*/React.createElement(Styled.DecklistItemHeader,{key:index},item.name),/*#__PURE__*/React.createElement(\"div\",{style:{marginRight:\"1vw\"}},item.quantity,/*#__PURE__*/React.createElement(Styled.UserButtons,{onClick:function onClick(){return _this2.handleClick(item,index,1);}},\"+\"),/*#__PURE__*/React.createElement(Styled.UserButtons,{onClick:function onClick(){return _this2.handleClick(item,index,-1);}},\"-\")));}))));}}]);return Decklist;}(Component);var mapStateToProps=function mapStateToProps(state){var currentDeck=state.currentDeck;return{currentDeck:currentDeck};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{modifyDeck:function modifyDeck(modifier,index){dispatch(_modifyDeck(modifier,index));},addCard:function addCard(card){dispatch(_addCard(card));}};};export default connect(mapStateToProps,mapDispatchToProps)(Decklist);","map":{"version":3,"sources":["/home/andrew/mtg/client/src/components/decklist.jsx"],"names":["React","Component","Styled","connect","addCard","modifyDeck","DropDown","Decklist","props","handleDrop","e","cardItem","JSON","parse","dataTransfer","getData","filteredItem","imageUrl","name","cmc","types","type","text","loyalty","toughness","power","quantity","preventDefault","stopPropagation","handleDragEnter","handleDragLeave","console","log","handleClick","item","index","modifier","bind","currentDeck","decklist","length","map","marginRight","mapStateToProps","state","mapDispatchToProps","dispatch","card"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport Styled from \"../style/styled\"\nimport {connect} from \"react-redux\";\nimport {addCard, modifyDeck} from \"../store/actions\"\nimport {DropDown} from \"./index\"\n\nclass Decklist extends Component {\n    constructor(props){\n        super(props)\n        this.handleDrop= this.handleDrop.bind(this);\n        this.handleDragEnter= this.handleDragEnter.bind(this);\n        this.handleDragLeave = this.handleDragLeave.bind(this);\n        this.handleClick = this.handleClick.bind(this);\n        \n    }\n\n    handleDrop = e =>{\n\n        const cardItem = JSON.parse(e.dataTransfer.getData(\"text\"))\n\n        //remove unneccessary data from \n        const filteredItem = {\n            imageUrl: cardItem.imageUrl,\n            name: cardItem.name,\n            cmc: cardItem.cmc,\n            types: cardItem.types,\n            type:cardItem.type,\n            text:cardItem.text,\n            loyalty:cardItem.loyalty,\n            toughness:cardItem.toughness,\n            power:cardItem.power,\n            quantity:1\n        }\n\n        this.props.addCard(filteredItem)\n        e.preventDefault()\n        e.stopPropagation()\n    }\n\n    handleDragEnter = e =>{\n        e.preventDefault()\n        e.stopPropagation()\n    }\n    handleDragLeave = e =>{\n        console.log(\"drag leave\");\n        e.preventDefault()\n        e.stopPropagation()\n    }\n\n    handleClick = (item, index, modifier ) =>{\n        if(item.quantity<4 && modifier>0){\n            this.props.modifyDeck(modifier, index)  \n        }else if(modifier<0){\n            this.props.modifyDeck(modifier, index)\n        }\n    }\n    \n    render() {\n        \n        return (\n            <Styled.DecklistDiv>\n            <DropDown></DropDown>\n            \n            <Styled.Decklist \n            onDragLeave={e=>this.handleDragLeave(e)}\n            onDropCapture={e=> this.handleDrop(e)} \n            onDragOver={e=>this.handleDragEnter(e)}>\n            \n            <div>\n                \n            {this.props.currentDeck.decklist.length===0 ? <Styled.DecklistItemHeader>Drag and Drop Cards</Styled.DecklistItemHeader>: this.props.currentDeck.decklist.map((item, index)=>{\n                \n                return <Styled.DecklistItem>\n                            <Styled.DecklistItemHeader key={index}>{item.name}</Styled.DecklistItemHeader>\n                            <div style={{marginRight:\"1vw\"}}>\n                            {item.quantity}\n                            <Styled.UserButtons onClick={()=>this.handleClick(item, index, 1)}>+</Styled.UserButtons>\n                            <Styled.UserButtons onClick={()=>this.handleClick(item, index, -1)}>-</Styled.UserButtons>\n                            </div>\n                        </Styled.DecklistItem>\n            })}\n            </div>        \n            </Styled.Decklist>\n            </Styled.DecklistDiv>\n        )\n    }\n}\n\nconst mapStateToProps = (state) =>{\n    const {currentDeck} = state;\n    return {currentDeck}\n}\n\nconst mapDispatchToProps = (dispatch)=>{\n    return{\n        modifyDeck: (modifier, index)=>{dispatch(modifyDeck(modifier, index))},\n        addCard: (card)=>{dispatch(addCard(card))}\n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Decklist)\n"]},"metadata":{},"sourceType":"module"}