{"ast":null,"code":"var _jsxFileName = \"/home/andrew/mtg/client/src/components/decklist.jsx\";\nimport React, { Component } from 'react';\nimport Styled from \"../style/styled\";\nimport { connect } from \"react-redux\";\nimport { addCard, modifyDeck } from \"../store/actions\";\nimport { DropDown } from \"./index\";\n\nclass Decklist extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleDrop = e => {\n      const cardItem = JSON.parse(e.dataTransfer.getData(\"text\")); //remove unneccessary data from \n\n      const filteredItem = {\n        imageUrl: cardItem.imageUrl,\n        name: cardItem.name,\n        cmc: cardItem.cmc,\n        types: cardItem.types,\n        type: cardItem.type,\n        text: cardItem.text,\n        loyalty: cardItem.loyalty,\n        toughness: cardItem.toughness,\n        power: cardItem.power,\n        quantity: 1\n      };\n      this.props.addCard(filteredItem);\n      e.preventDefault();\n      e.stopPropagation();\n    };\n\n    this.handleDragEnter = e => {\n      e.preventDefault();\n      e.stopPropagation();\n    };\n\n    this.handleDragLeave = e => {\n      console.log(\"drag leave\");\n      e.preventDefault();\n      e.stopPropagation();\n    };\n\n    this.handleClick = (item, index, modifier) => {\n      if (item.quantity < 4 && modifier > 0) {\n        this.props.modifyDeck(modifier, index);\n      } else if (modifier < 0) {\n        this.props.modifyDeck(modifier, index);\n      }\n    };\n\n    this.handleDrop = this.handleDrop.bind(this);\n    this.handleDragEnter = this.handleDragEnter.bind(this);\n    this.handleDragLeave = this.handleDragLeave.bind(this);\n    this.handleClick = this.handleClick.bind(this);\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(Styled.DecklistDiv, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(DropDown, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(Styled.Decklist, {\n      onDragLeave: e => this.handleDragLeave(e),\n      onDropCapture: e => this.handleDrop(e),\n      onDragOver: e => this.handleDragEnter(e),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 13\n      }\n    }, this.props.currentDeck.decklist.length === 0 ? /*#__PURE__*/React.createElement(Styled.DecklistItemHeader, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 59\n      }\n    }, \"Drag and Drop Cards\") : this.props.currentDeck.decklist.map((item, index) => {\n      return /*#__PURE__*/React.createElement(Styled.DecklistItem, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 24\n        }\n      }, /*#__PURE__*/React.createElement(Styled.DecklistItemHeader, {\n        key: index,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 29\n        }\n      }, item.name), /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          marginRight: \"1vw\",\n          display: \"flex\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 29\n        }\n      }, item.quantity, /*#__PURE__*/React.createElement(Styled.UserButtons, {\n        onClick: () => this.handleClick(item, index, 1),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 29\n        }\n      }, \"+\"), /*#__PURE__*/React.createElement(Styled.UserButtons, {\n        onClick: () => this.handleClick(item, index, -1),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 29\n        }\n      }, \"-\")));\n    }))));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  const {\n    currentDeck\n  } = state;\n  return {\n    currentDeck\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    modifyDeck: (modifier, index) => {\n      dispatch(modifyDeck(modifier, index));\n    },\n    addCard: card => {\n      dispatch(addCard(card));\n    }\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Decklist);","map":{"version":3,"sources":["/home/andrew/mtg/client/src/components/decklist.jsx"],"names":["React","Component","Styled","connect","addCard","modifyDeck","DropDown","Decklist","constructor","props","handleDrop","e","cardItem","JSON","parse","dataTransfer","getData","filteredItem","imageUrl","name","cmc","types","type","text","loyalty","toughness","power","quantity","preventDefault","stopPropagation","handleDragEnter","handleDragLeave","console","log","handleClick","item","index","modifier","bind","render","currentDeck","decklist","length","map","marginRight","display","mapStateToProps","state","mapDispatchToProps","dispatch","card"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport Styled from \"../style/styled\"\nimport {connect} from \"react-redux\";\nimport {addCard, modifyDeck} from \"../store/actions\"\nimport {DropDown} from \"./index\"\n\nclass Decklist extends Component {\n    constructor(props){\n        super(props)\n        this.handleDrop= this.handleDrop.bind(this);\n        this.handleDragEnter= this.handleDragEnter.bind(this);\n        this.handleDragLeave = this.handleDragLeave.bind(this);\n        this.handleClick = this.handleClick.bind(this);\n        \n    }\n\n    handleDrop = e =>{\n\n        const cardItem = JSON.parse(e.dataTransfer.getData(\"text\"))\n\n        //remove unneccessary data from \n        const filteredItem = {\n            imageUrl: cardItem.imageUrl,\n            name: cardItem.name,\n            cmc: cardItem.cmc,\n            types: cardItem.types,\n            type:cardItem.type,\n            text:cardItem.text,\n            loyalty:cardItem.loyalty,\n            toughness:cardItem.toughness,\n            power:cardItem.power,\n            quantity:1\n        }\n\n        this.props.addCard(filteredItem)\n        e.preventDefault()\n        e.stopPropagation()\n    }\n\n    handleDragEnter = e =>{\n        e.preventDefault()\n        e.stopPropagation()\n    }\n    handleDragLeave = e =>{\n        console.log(\"drag leave\");\n        e.preventDefault()\n        e.stopPropagation()\n    }\n\n    handleClick = (item, index, modifier ) =>{\n        if(item.quantity<4 && modifier>0){\n            this.props.modifyDeck(modifier, index)  \n        }else if(modifier<0){\n            this.props.modifyDeck(modifier, index)\n        }\n    }\n    \n    render() {\n        \n        return (\n            <Styled.DecklistDiv>\n            <DropDown></DropDown>\n            \n            <Styled.Decklist \n            onDragLeave={e=>this.handleDragLeave(e)}\n            onDropCapture={e=> this.handleDrop(e)} \n            onDragOver={e=>this.handleDragEnter(e)}>\n            \n            <div>\n                \n            {this.props.currentDeck.decklist.length===0 ? <Styled.DecklistItemHeader>Drag and Drop Cards</Styled.DecklistItemHeader>: this.props.currentDeck.decklist.map((item, index)=>{\n                \n                return <Styled.DecklistItem>\n                            <Styled.DecklistItemHeader key={index}>{item.name}</Styled.DecklistItemHeader>\n                            <div style={{marginRight:\"1vw\", display:\"flex\"}}>\n                            {item.quantity}\n                            <Styled.UserButtons onClick={()=>this.handleClick(item, index, 1)}>+</Styled.UserButtons>\n                            <Styled.UserButtons onClick={()=>this.handleClick(item, index, -1)}>-</Styled.UserButtons>\n                            </div>\n                        </Styled.DecklistItem>\n            })}\n            </div>        \n            </Styled.Decklist>\n            </Styled.DecklistDiv>\n        )\n    }\n}\n\nconst mapStateToProps = (state) =>{\n    const {currentDeck} = state;\n    return {currentDeck}\n}\n\nconst mapDispatchToProps = (dispatch)=>{\n    return{\n        modifyDeck: (modifier, index)=>{dispatch(modifyDeck(modifier, index))},\n        addCard: (card)=>{dispatch(addCard(card))}\n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Decklist)\n"]},"metadata":{},"sourceType":"module"}