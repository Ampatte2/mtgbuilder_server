{"ast":null,"code":"var _jsxFileName = \"/home/andrew/mtg/client/src/components/userLogin.jsx\";\nimport React, { Component } from 'react';\nimport { ModalLogin } from \"./index\";\nimport { connect } from \"react-redux\";\nimport { login, logout, register, isAuth, getData, isError } from \"../store/actions\";\nimport Loader from \"react-loader\";\nimport Styled from \"../style/styled\";\n\nclass UserLogin extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      passError: false\n    };\n    this.register = this.register.bind(this);\n    this.login = this.login.bind(this);\n    this.logout = this.logout.bind(this);\n    this.errorReset = this.errorReset.bind(this);\n  }\n\n  register(submit) {\n    this.setState({\n      passError: false\n    });\n\n    if (submit[\"Password\"] === submit[\"Repeat Password\"] && submit[\"Email\"] && submit[\"Password\"] && submit[\"Password\"].length > 6) {\n      this.props.register(submit);\n    } else if (submit[\"Password\"].length < 7) {\n      this.setState({\n        passError: \"Password Must Be Longer Than 6 Characters\"\n      });\n    } else {\n      //error message for password without api call\n      this.setState({\n        passError: \"Passwords Do Not Match\"\n      });\n    }\n  }\n\n  login(submit) {\n    this.props.login(submit);\n  }\n\n  logout() {\n    localStorage.removeItem(\"token\");\n    this.props.logout();\n    this.props.isAuth(false);\n    this.props.getData();\n  }\n\n  errorReset() {\n    this.props.isError(false);\n    this.setState({\n      passError: false\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(Styled.UserLoginDiv, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 13\n      }\n    }, !this.props.auth && /*#__PURE__*/React.createElement(Styled.UserLogin, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(ModalLogin, {\n      title: \"Login\",\n      info: [{\n        name: \"Email\",\n        type: \"email\"\n      }, {\n        name: \"Password\",\n        type: \"password\"\n      }],\n      fun: this.login,\n      error: this.props.error,\n      reset: this.errorReset,\n      isLoaded: this.props.isLoaded,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(ModalLogin, {\n      title: \"Register\",\n      info: [{\n        name: \"Email\",\n        type: \"email\"\n      }, {\n        name: \"Password\",\n        type: \"password\"\n      }, {\n        name: \"Repeat Password\",\n        type: \"password\"\n      }],\n      fun: this.register,\n      passError: this.state.passError,\n      error: this.props.error,\n      reset: this.errorReset,\n      isLoaded: this.props.isLoaded,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 21\n      }\n    })), this.props.auth && /*#__PURE__*/React.createElement(Styled.UserLogin, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Styled.UserButtons, {\n      onClick: () => this.logout(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 21\n      }\n    }, \"Logout\")));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  const {\n    isLoaded\n  } = state;\n  const {\n    error\n  } = state;\n  const {\n    auth\n  } = state;\n  return {\n    error,\n    isLoaded,\n    auth\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    login: user => {\n      dispatch(login(user));\n    },\n    register: user => {\n      dispatch(register(user));\n    },\n    isAuth: value => {\n      dispatch(isAuth(value));\n    },\n    logout: () => {\n      dispatch(logout());\n    },\n    getData: () => {\n      dispatch(getData());\n    },\n    isError: value => {\n      dispatch(isError(value));\n    }\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(UserLogin);","map":{"version":3,"sources":["/home/andrew/mtg/client/src/components/userLogin.jsx"],"names":["React","Component","ModalLogin","connect","login","logout","register","isAuth","getData","isError","Loader","Styled","UserLogin","constructor","props","state","passError","bind","errorReset","submit","setState","length","localStorage","removeItem","render","auth","name","type","error","isLoaded","mapStateToProps","mapDispatchToProps","dispatch","user","value"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport {ModalLogin} from \"./index\"\nimport {connect} from \"react-redux\";\nimport {login, logout, register, isAuth, getData, isError} from \"../store/actions\";\nimport Loader from \"react-loader\";\nimport Styled from \"../style/styled\";\n\n\n\nclass UserLogin extends Component {\n    constructor(props){\n        super(props)\n        this.state={\n            passError:false\n            \n        }\n        this.register = this.register.bind(this);\n        this.login = this.login.bind(this);\n        this.logout = this.logout.bind(this);\n        this.errorReset = this.errorReset.bind(this);\n        \n    }\n\n    register(submit){\n            this.setState({passError:false})\n            if(submit[\"Password\"]===submit[\"Repeat Password\"] && submit[\"Email\"] && submit[\"Password\"] && submit[\"Password\"].length>6 ){\n                this.props.register(submit);\n            }else if (submit[\"Password\"].length<7){\n                this.setState({passError:\"Password Must Be Longer Than 6 Characters\"})\n            }else{\n                //error message for password without api call\n                this.setState({passError:\"Passwords Do Not Match\"});\n        }\n    }\n    \n    login(submit){\n        this.props.login(submit);\n        \n    }\n\n    logout(){\n        \n        localStorage.removeItem(\"token\")\n        this.props.logout();\n        this.props.isAuth(false);\n        this.props.getData();\n        \n    }\n\n    errorReset(){\n        this.props.isError(false)\n        this.setState({passError:false})\n    }\n\n    render() {\n        return (\n            <Styled.UserLoginDiv>\n                \n                {!this.props.auth && \n                <Styled.UserLogin>\n                    <ModalLogin \n                    title=\"Login\" \n                    info={[{name:\"Email\", type:\"email\"},\n                    {name:\"Password\", type:\"password\"}]}\n                    fun={this.login}\n                    error={this.props.error}\n                    reset={this.errorReset}\n                    isLoaded={this.props.isLoaded}>\n                    </ModalLogin>\n\n                    <ModalLogin\n                    title=\"Register\"\n                    info={[{name:\"Email\", type:\"email\"},\n                    {name:\"Password\", type:\"password\"},\n                    {name:\"Repeat Password\", type:\"password\"}]}\n                    fun={this.register}\n                    passError={this.state.passError}\n                    error={this.props.error}\n                    reset={this.errorReset}\n                    isLoaded={this.props.isLoaded}>\n                    </ModalLogin>\n                </Styled.UserLogin>}\n\n                {this.props.auth &&\n                <Styled.UserLogin>\n                    <Styled.UserButtons onClick={()=>this.logout()}>Logout</Styled.UserButtons>\n                </Styled.UserLogin>}\n                \n\n            </Styled.UserLoginDiv>\n        )\n    }\n}\nconst mapStateToProps = (state) =>{\n    const {isLoaded} = state;\n    const {error} = state;\n    const {auth} = state;\n    return {error, isLoaded, auth}\n}\nconst mapDispatchToProps = (dispatch)=>{\n    return{\n        login: (user)=>{dispatch(login(user))},\n        register: (user)=>{dispatch(register(user))},\n        isAuth: (value)=>{dispatch(isAuth(value))},\n        logout: ()=>{dispatch(logout())},\n        getData: ()=>{dispatch(getData())},\n        isError: (value)=>{dispatch(isError(value))}\n    }\n}\nexport default connect(mapStateToProps, mapDispatchToProps)(UserLogin);"]},"metadata":{},"sourceType":"module"}